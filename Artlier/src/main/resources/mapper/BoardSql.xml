<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.artlier.web.mapper.BoardMapper">
	
	<select id="selectCommonList" resultType="ArticleCommon">
		SELECT
			*
		FROM
			tb_art_board_common
		ORDER BY
			uid DESC
	</select>
	
	<select id="countCommonList" resultType="int">
		SELECT
			COUNT(*) AS cnt
		FROM
			tb_art_board_common
	</select>
	
	<select id="selectCommonListByUid" parameterType="int" resultType="ArticleCommon">
		SELECT
			*
		FROM
			tb_art_board_common
		WHERE
			uid = #{uid};
	</select>
	
	<select id="selectCommonListByPage" parameterType="paginationDTO" resultType="ArticleCommon">
		SELECT
			*
		FROM
			tb_art_board_common
		ORDER BY
			uid DESC
		limit
			#{pageMin}, #{articles}
	</select>

	<insert id="boardCommonWrite" parameterType="BoardCommonWriteDTO">
		INSERT INTO
			tb_art_board_common
			(
				id
				,nick
				,title
				,contents
				,article_pw
				,allow_rep
				,reg_date
			)
		VALUES
			(
				#{id}
				,#{nick}
				,#{title}
				,#{contents}
				,#{articlePw}
				,#{allowRep}
				,NOW()
			)
	</insert>
	
	<update id="boardCommonModify" parameterType="BoardCommonModifyDTO">
		UPDATE
			tb_art_board_common
		SET
			title = #{title}
			,contents = #{contents}
			,article_pw = #{articlePw}
			,allow_rep = #{allowRep}
			,mod_date = NOW()
		WHERE
			uid = #{uid}
	</update>
	
</mapper>